package com.malware.authservice.data.repository.admin;

import com.malware.authservice.data.domain.admin.Admin;
import com.malware.authservice.data.domain.admin.AdminRepository;

import java.util.ArrayList;
import java.util.List;
import java.util.Optional;

public class AdminInMemoryRepository implements AdminRepository {

    private final List<Admin> adminList;

    public AdminInMemoryRepository() {
        this.adminList = new ArrayList<>();
    }

    @Override
    public Optional<Admin> findByUid(String uid) {
        return adminList.stream()
                .filter(admin -> admin.getUid().equals(uid))
                .findFirst();
    }

    @Override
    public Optional<Admin> findByEmail(String email) {
        return adminList.stream()
                .filter(admin -> admin.getEmail().equals(email))
                .findFirst();
    }

    @Override
    public Admin save(Admin admin) {
        adminList.add(admin);
        return admin;
    }

    @Override
    public List<Admin> findAll() {
        return adminList;
    }

    @Override
    public boolean existsByEmail(String email) {
        return findByEmail(email).isPresent();
    }
}
